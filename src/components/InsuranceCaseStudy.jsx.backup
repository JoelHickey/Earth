import React, { useState } from 'react';

const InsuranceCaseStudy = ({ onClose }) => {
  const [isGalleryOpen, setIsGalleryOpen] = useState(false);
  const [isDiscoveryOpen, setIsDiscoveryOpen] = useState(false);
  return (
    <div style={{
      position: "fixed",
      top: "50%",
      left: "50%",
      transform: "translate(-50%, -50%)",
      zIndex: 99,
      background: "#ffffff",
      width: "900px",
      maxWidth: "90vw",
      height: "700px",
      maxHeight: "90vh",
      boxShadow: "0 4px 16px rgba(0,0,0,0.15)",
      borderRadius: "10px",
      display: "flex",
      flexDirection: "column",
      overflow: "hidden"
    }}>
      {/* Close Button */}
      <button
        onClick={onClose}
        style={{
          position: "absolute",
          top: "16px",
          right: "16px",
          width: "32px",
          height: "32px",
          borderRadius: "50%",
          border: "none",
          background: "#e0e0e0",
          color: "#666",
          fontSize: "18px",
          cursor: "pointer",
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          transition: "background 0.2s",
          fontWeight: "300",
          lineHeight: "1",
          zIndex: 100
        }}
        onMouseOver={(e) => e.currentTarget.style.background = "#d0d0d0"}
        onMouseOut={(e) => e.currentTarget.style.background = "#e0e0e0"}
      >
        ✕
      </button>

      {/* Content */}
      <div style={{
        flex: 1,
        overflow: "auto",
        padding: "48px 64px",
        fontFamily: "-apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', sans-serif",
        WebkitFontSmoothing: "antialiased"
      }}>
        {/* Header */}
        <div style={{ marginBottom: "48px" }}>
          <div style={{
            fontSize: "14px",
            fontWeight: "600",
            color: "#0071e3",
            textTransform: "uppercase",
            letterSpacing: "0.8px",
            marginBottom: "12px"
          }}>
            Case Study · Flight Centre
          </div>
          <h1 style={{
            fontSize: "48px",
            fontWeight: "600",
            letterSpacing: "-0.5px",
            marginBottom: "16px",
            color: "#1d1d1f",
            lineHeight: "1.1"
          }}>
            Travel Insurance Integration
          </h1>
          <p style={{
            fontSize: "17px",
            lineHeight: "1.4",
            color: "#6e6e73",
            fontStyle: "italic",
            marginBottom: "0"
          }}>
            Pilot project for new booking platform · Developed entirely in-house by Flight Centre
          </p>
        </div>

        {/* OKR - Simple Display */}
        <div style={{
          marginBottom: "32px",
          paddingBottom: "24px",
          borderBottom: "1px solid #e0e0e0"
        }}>
          <div style={{
            fontSize: "13px",
            fontWeight: "600",
            color: "#6e6e73",
            textTransform: "uppercase",
            letterSpacing: "0.8px",
            marginBottom: "8px"
          }}>
            Objective & Key Result
          </div>
          <p style={{
            fontSize: "19px",
            fontWeight: "500",
            color: "#1d1d1f",
            lineHeight: "1.4",
            margin: "0"
          }}>
            Streamline insurance quoting and increase attachment rates through integrated workflow
          </p>
        </div>

        {/* Impact Metrics */}
        <div style={{ marginBottom: "48px" }}>
          <div style={{
            display: "grid",
            gridTemplateColumns: "repeat(auto-fit, minmax(150px, 1fr))",
            gap: "16px",
            marginBottom: "24px"
          }}>
            <div style={{
              padding: "20px",
              background: "linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",
              borderRadius: "8px",
              color: "#ffffff",
              textAlign: "center"
            }}>
              <div style={{
                fontSize: "36px",
                fontWeight: "700",
                marginBottom: "6px"
              }}>
                +45%
              </div>
              <div style={{
                fontSize: "14px",
                fontWeight: "500",
                opacity: 0.95
              }}>
                Attachment Rate
              </div>
            </div>
            
            <div style={{
              padding: "20px",
              background: "linear-gradient(135deg, #fa709a 0%, #fee140 100%)",
              borderRadius: "8px",
              color: "#ffffff",
              textAlign: "center"
            }}>
              <div style={{
                fontSize: "36px",
                fontWeight: "700",
                marginBottom: "6px"
              }}>
                90%
              </div>
              <div style={{
                fontSize: "14px",
                fontWeight: "500",
                opacity: 0.95
              }}>
                Time Saved
              </div>
            </div>
            
            <div style={{
              padding: "20px",
              background: "linear-gradient(135deg, #30cfd0 0%, #330867 100%)",
              borderRadius: "8px",
              color: "#ffffff",
              textAlign: "center"
            }}>
              <div style={{
                fontSize: "36px",
                fontWeight: "700",
                marginBottom: "6px"
              }}>
                $2.4M
              </div>
              <div style={{
                fontSize: "14px",
                fontWeight: "500",
                opacity: 0.95
              }}>
                Annual Revenue
              </div>
            </div>
          </div>
        </div>

        {/* The Problem */}
        <div style={{ marginBottom: "48px" }}>
          <h2 style={{
            fontSize: "28px",
            fontWeight: "600",
            marginBottom: "16px",
            color: "#1d1d1f"
          }}>
            The Problem
          </h2>
          <div style={{
            fontSize: "17px",
            lineHeight: "1.6",
            color: "#1d1d1f",
            marginBottom: "24px"
          }}>
            <p style={{ marginBottom: "16px" }}>
              Adding travel insurance to customer bookings required consultants to navigate to a completely separate insurance system, manually calculate premiums, and re-enter customer details. This created:
            </p>
            <ul style={{ paddingLeft: "24px", marginBottom: "16px" }}>
              <li style={{ marginBottom: "8px" }}><strong>Separate system</strong> - Insurance quoting in different platform requiring re-login</li>
              <li style={{ marginBottom: "8px" }}><strong>Manual calculations</strong> - Consultants calculated premiums based on trip details</li>
              <li style={{ marginBottom: "8px" }}><strong>Duplicate data entry</strong> - Customer and booking info entered twice</li>
              <li style={{ marginBottom: "8px" }}><strong>Lengthy process</strong> - 5-8 minutes just to add insurance</li>
              <li style={{ marginBottom: "8px" }}><strong>Low attachment rates</strong> - Complexity discouraged consultants from offering insurance</li>
              <li style={{ marginBottom: "8px" }}><strong>Lost revenue</strong> - Missed insurance opportunities on 60% of eligible bookings</li>
            </ul>

            <p style={{ marginBottom: "0", marginTop: "16px" }}>
              <span
                onClick={() => setIsDiscoveryOpen(!isDiscoveryOpen)}
                style={{
                  fontSize: "15px",
                  color: "#0071e3",
                  cursor: "pointer",
                  textDecoration: "none",
                  fontFamily: "-apple-system, BlinkMacSystemFont, sans-serif"
                }}
                onMouseOver={(e) => e.currentTarget.style.textDecoration = "underline"}
                onMouseOut={(e) => e.currentTarget.style.textDecoration = "none"}
              >
                {isDiscoveryOpen ? "Hide discovery & research process ↑" : "View discovery & research process →"}
              </span>
            </p>

            {isDiscoveryOpen && (
              <div style={{ marginTop: "24px" }}>
            <p style={{ marginBottom: "16px" }}>
              To validate our integration approach, I led comprehensive usability testing with consultants and advisors:
            </p>
            
              <div style={{ marginBottom: "16px", marginTop: "8px" }}>
                <strong>Methodology:</strong> Remote moderated usability testing
              </div>
              <div style={{ marginBottom: "16px" }}>
                <strong>Goal:</strong> Validate usability of consultant insurance experience & identify opportunities
              </div>
              <div style={{ marginBottom: "16px" }}>
                <strong>Participants:</strong> 5 users (3 Flight Centre AU consultants + 2 Travel Associates AU advisors)
              </div>
              <div>
                <strong>Key Tasks Tested:</strong>
                <ul style={{ paddingLeft: "24px", marginTop: "8px" }}>
                  <li style={{ marginBottom: "8px" }}>Add travel insurance quote to HELiO booking</li>
                  <li>Convert insurance quote to policy</li>
                </ul>
              </div>

            <div style={{
              display: "grid",
              gridTemplateColumns: "repeat(auto-fit, minmax(250px, 1fr))",
              gap: "16px",
              marginBottom: "24px"
            }}>
              <div style={{
                padding: "20px",
                background: "#e8f5e9",
                border: "1px solid #4caf50",
                borderRadius: "8px"
              }}>
                <div style={{
                  fontSize: "36px",
                  fontWeight: "700",
                  color: "#2e7d32",
                  marginBottom: "8px"
                }}>
                  58%
                </div>
                <div style={{ fontSize: "15px", color: "#2e7d32" }}>
                  <strong>Improved Usability Score</strong>
                </div>
                <div style={{ fontSize: "13px", color: "#2e7d32", marginTop: "4px" }}>
                  UMUX: 27% → 90%
                </div>
              </div>

              <div style={{
                padding: "20px",
                background: "#e3f2fd",
                border: "1px solid #2196f3",
                borderRadius: "8px"
              }}>
                <div style={{
                  fontSize: "36px",
                  fontWeight: "700",
                  color: "#1565c0",
                  marginBottom: "8px"
                }}>
                  233%
                </div>
                <div style={{ fontSize: "15px", color: "#1565c0" }}>
                  <strong>Reduction in Clicks</strong>
                </div>
                <div style={{ fontSize: "13px", color: "#1565c0", marginTop: "4px" }}>
                  28-36 clicks → 16 clicks
                </div>
              </div>
            </div>

            <div style={{
              padding: "20px",
              background: "#fff8e1",
              border: "1px solid #ffc107",
              borderRadius: "8px",
              marginBottom: "16px"
            }}>
              <p style={{ margin: "0 0 12px 0", fontSize: "15px", fontStyle: "italic", color: "#f57f17" }}>
                💬 <strong>Consultant Feedback:</strong>
              </p>
              <p style={{ margin: "0 0 8px 0", fontSize: "15px", color: "#f57f17" }}>
                "The fact that I don't have to do 27 clicks to load this into the quote is a win. This would make a lot of people in retail very happy!"
              </p>
              <p style={{ margin: "0", fontSize: "15px", color: "#f57f17" }}>
                "100% I would use the insurance flow. I think it's a very good addition and it will increase our productivity and sales."
              </p>
            </div>

            {/* Image Gallery */}
            <div style={{ marginTop: "24px" }}>
              <p style={{ marginBottom: "12px" }}>
                <span
                  onClick={() => setIsGalleryOpen(!isGalleryOpen)}
                  style={{
                    fontSize: "15px",
                    color: "#0071e3",
                    cursor: "pointer",
                    textDecoration: "none",
                    fontFamily: "-apple-system, BlinkMacSystemFont, sans-serif"
                  }}
                  onMouseOver={(e) => e.currentTarget.style.textDecoration = "underline"}
                  onMouseOut={(e) => e.currentTarget.style.textDecoration = "none"}
                >
                  {isGalleryOpen ? "Hide research artifacts ↑" : "View research artifacts (6 photos) →"}
                </span>
              </p>
              
              {isGalleryOpen && (
                <div style={{
                  display: "grid",
                  gridTemplateColumns: "repeat(auto-fit, minmax(300px, 1fr))",
                  gap: "16px",
                  marginTop: "16px",
                  marginBottom: "16px"
                }}>
                <div style={{
                  background: "#ffffff",
                  border: "1px solid #d2d2d7",
                  borderRadius: "8px",
                  overflow: "hidden",
                  boxShadow: "0 2px 8px rgba(0,0,0,0.1)"
                }}>
                  <img 
                    src="/images/insurance/image1.png" 
                    alt="Insurance research artifact 1"
                    style={{
                      width: "100%",
                      height: "auto",
                      display: "block"
                    }}
                  />
                </div>

                <div style={{
                  background: "#ffffff",
                  border: "1px solid #d2d2d7",
                  borderRadius: "8px",
                  overflow: "hidden",
                  boxShadow: "0 2px 8px rgba(0,0,0,0.1)"
                }}>
                  <img 
                    src="/images/insurance/image2.png" 
                    alt="Insurance research artifact 2"
                    style={{
                      width: "100%",
                      height: "auto",
                      display: "block"
                    }}
                  />
                </div>

                <div style={{
                  background: "#ffffff",
                  border: "1px solid #d2d2d7",
                  borderRadius: "8px",
                  overflow: "hidden",
                  boxShadow: "0 2px 8px rgba(0,0,0,0.1)"
                }}>
                  <img 
                    src="/images/insurance/image3.png" 
                    alt="Insurance research artifact 3"
                    style={{
                      width: "100%",
                      height: "auto",
                      display: "block"
                    }}
                  />
                </div>

                <div style={{
                  background: "#ffffff",
                  border: "1px solid #d2d2d7",
                  borderRadius: "8px",
                  overflow: "hidden",
                  boxShadow: "0 2px 8px rgba(0,0,0,0.1)"
                }}>
                  <img 
                    src="/images/insurance/image4.png" 
                    alt="Insurance research artifact 4"
                    style={{
                      width: "100%",
                      height: "auto",
                      display: "block"
                    }}
                  />
                </div>

                <div style={{
                  background: "#ffffff",
                  border: "1px solid #d2d2d7",
                  borderRadius: "8px",
                  overflow: "hidden",
                  boxShadow: "0 2px 8px rgba(0,0,0,0.1)"
                }}>
                  <img 
                    src="/images/insurance/image5.png" 
                    alt="Insurance research artifact 5"
                    style={{
                      width: "100%",
                      height: "auto",
                      display: "block"
                    }}
                  />
                </div>

                <div style={{
                  background: "#ffffff",
                  border: "1px solid #d2d2d7",
                  borderRadius: "8px",
                  overflow: "hidden",
                  boxShadow: "0 2px 8px rgba(0,0,0,0.1)"
                }}>
                  <img 
                    src="/images/insurance/image6.png" 
                    alt="Insurance research artifact 6"
                    style={{
                      width: "100%",
                      height: "auto",
                      display: "block"
                    }}
                  />
                </div>
              </div>
            )}
          </div>
        </div>

        {/* The Solution */}
        <div style={{ marginBottom: "48px" }}>
          <h2 style={{
            fontSize: "28px",
            fontWeight: "600",
            marginBottom: "16px",
            color: "#1d1d1f"
          }}>
            The Solution
          </h2>
          <div style={{
            fontSize: "17px",
            lineHeight: "1.6",
            color: "#1d1d1f",
            marginBottom: "24px"
          }}>
            <p style={{ marginBottom: "16px" }}>
              I led the integration of travel insurance directly into the booking workflow, making it seamless for consultants to offer coverage:
            </p>
            <ul style={{ paddingLeft: "24px", marginBottom: "16px" }}>
              <li style={{ marginBottom: "8px" }}><strong>Integrated quoting</strong> - Insurance options displayed within booking screen</li>
              <li style={{ marginBottom: "8px" }}><strong>Auto-calculated premiums</strong> - Real-time pricing based on trip details</li>
              <li style={{ marginBottom: "8px" }}><strong>Smart recommendations</strong> - System suggests appropriate coverage levels</li>
              <li style={{ marginBottom: "8px" }}><strong>One-click add</strong> - Add insurance to booking in single step</li>
              <li style={{ marginBottom: "8px" }}><strong>Pre-populated forms</strong> - Customer details auto-filled from booking</li>
            </ul>
            
            <div style={{
              marginTop: "16px",
              padding: "16px",
              background: "#d4edda",
              borderRadius: "8px",
              border: "1px solid #c3e6cb"
            }}>
              <strong style={{ color: "#155724" }}>Result:</strong>
              <p style={{ margin: "8px 0 0 0", color: "#155724" }}>
                Reduced insurance addition time from <strong>5-8 minutes to 30 seconds</strong> and increased attachment rates by <strong>45%</strong>
              </p>
            </div>
          </div>
        </div>

        {/* Delivery */}
        <div style={{ marginBottom: "48px" }}>
          <h2 style={{
            fontSize: "28px",
            fontWeight: "600",
            marginBottom: "16px",
            color: "#1d1d1f"
          }}>
            Delivery
          </h2>
          <div style={{
            fontSize: "17px",
            lineHeight: "1.6",
            color: "#1d1d1f",
            marginBottom: "24px"
          }}>
            <p style={{ marginBottom: "16px" }}>
              Integrating insurance into the existing booking platform required careful coordination with external partners and internal stakeholders:
            </p>
            
            <div style={{
              padding: "24px",
              background: "#f5f5f7",
              borderRadius: "12px",
              marginBottom: "24px"
            }}>
              <h3 style={{
                fontSize: "19px",
                fontWeight: "600",
                marginBottom: "16px",
                color: "#1d1d1f"
              }}>
                Delivery Approach
              </h3>
              <ul style={{ paddingLeft: "24px", marginBottom: "0" }}>
                <li style={{ marginBottom: "12px" }}><strong>In-house development</strong> - Led Flight Centre's internal agile development team to build solution entirely in-house</li>
                <li style={{ marginBottom: "12px" }}><strong>Platform pilot</strong> - Served as pilot project for new booking platform Owners, testing new development approach</li>
                <li style={{ marginBottom: "12px" }}><strong>API integration</strong> - Worked with EA insurance partner's API team to build seamless integration</li>
                <li style={{ marginBottom: "12px" }}><strong>Compliance validation</strong> - Ensured all insurance offerings met regulatory requirements across markets</li>
                <li style={{ marginBottom: "12px" }}><strong>Pilot testing</strong> - Ran controlled pilot with select consultants to validate usability and technical stability</li>
                <li style={{ marginBottom: "12px" }}><strong>Training rollout</strong> - Created training materials and conducted sessions on new insurance workflow</li>
                <li style={{ marginBottom: "0" }}><strong>Performance monitoring</strong> - Tracked attachment rates, system performance, and consultant feedback post-launch</li>
              </ul>
            </div>

            <div style={{
              padding: "20px",
              background: "#e8f5e9",
              border: "1px solid #4caf50",
              borderRadius: "8px"
            }}>
              <p style={{ margin: "0", color: "#2e7d32", fontSize: "15px" }}>
                ✓ <strong>Launched successfully in July 2024</strong> - Seamless integration achieved with positive consultant feedback and immediate revenue impact
              </p>
            </div>
          </div>
        </div>

        {/* Business Impact */}
        <div style={{
          marginTop: "48px",
          padding: "32px",
          background: "#f5f5f7",
          borderRadius: "16px"
        }}>
          <h2 style={{
            fontSize: "28px",
            fontWeight: "600",
            marginBottom: "16px",
            color: "#1d1d1f"
          }}>
            Business Impact
          </h2>
          <div style={{
            fontSize: "17px",
            lineHeight: "1.6",
            color: "#1d1d1f"
          }}>
            <p style={{ marginBottom: "12px" }}>
              Beyond consultant efficiency, the integrated insurance workflow drove significant business outcomes:
            </p>
            <ul style={{ paddingLeft: "24px" }}>
              <li style={{ marginBottom: "8px" }}><strong>$2.4M additional annual revenue</strong> from increased insurance sales</li>
              <li style={{ marginBottom: "8px" }}><strong>Improved customer protection</strong> with more travelers properly insured</li>
              <li style={{ marginBottom: "8px" }}><strong>Better consultant experience</strong> - easier to offer value-add services</li>
              <li style={{ marginBottom: "8px" }}><strong>Reduced compliance risk</strong> - consistent insurance offering across all consultants</li>
            </ul>
          </div>
        </div>

      </div>
    </div>
  );
};

export default InsuranceCaseStudy;

